<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Ruby on Rails 教程 - 搭建 Rails 环境</title><meta name="keywords" content="Ruby on Rails, Rails, 中文, 教程, 电子书"/><meta name="description" content="Ruby on Rails 中文教程，讲解如何使用 Rails 框架开发应用，以及如何把应用部署到生产环境。"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Ruby on Rails 教程 - 搭建 Rails 环境"/><meta name="twitter:description" content="Ruby on Rails 中文教程，讲解如何使用 Rails 框架开发应用，以及如何把应用部署到生产环境。"/><meta name="twitter:site" content="@andor_chen"/><meta name="twitter:image" content="/assets/images/railstutorial-book-twitter-card.jpg"/><link rel="stylesheet" type="text/css" href="/assets/css/main.css"/><script src="/assets/js/global.js" type="text/javascript"></script></head><body class="setup-page"><nav class="navbar"><div class="container"><div class="clearfix"><a class="navbar-brand hidden-sm-up" href="/" title="Ruby on Rails 教程">Ruby on Rails 教程</a> <button class="navbar-toggler hidden-sm-up pull-xs-right" type="button" data-toggle="collapse" data-target="#main-nav">&#9776;</button></div><a class="navbar-brand hidden-xs-down" href="/" title="Ruby on Rails 教程">Ruby on Rails 教程</a><div class="collapse navbar-toggleable-xs pull-sm-right" id="main-nav"><ul class="nav navbar-nav"><li class="nav-item"><a class="nav-link" href="/" title="首页">首页</a></li><li class="nav-item"><a class="nav-link" href="https://rails.guide" title="Rails 指南">指南</a></li><li class="nav-item"><a class="nav-link" href="/blog/" title="博客">博客</a></li><li class="nav-item"><a class="nav-link" href="/book/" title="阅读">阅读</a></li><li class="nav-item"><a class="nav-link" href="/contact/" title="联系安道">联系</a></li><li class="nav-item"><a class="nav-link" href="http://cs.about.ac" title="登录下载电子书">登录</a></li><li class="nav-item"><a class="nav-link" href="/#ebook" title="电子书">电子书</a></li></ul></div></div></nav><div class="main"><div class="container"><div class="row"><div class="col-xs-12 col-md-8 col-md-offset-2"><article class="post page"><header class="post-header"><h1 class="post-title"><a href="/setup/" title="搭建 Rails 环境">搭建 Rails 环境</a></h1></header><section class="post-content"><p>《Ruby on Rails 教程》使用的 <a href="https://c9.io" title="Cloud9 IDE">Cloud9 IDE</a> 需要绑定信用卡才能使用，如果想在本地搭建 Rails 环境，可以参照 <a href="https://gorails.com/setup/" title="Go Rails 网站的指南">Go Rails 网站的指南</a>。这份指南详细说明了如何在各个版本的 Mac OS X、Ubuntu 和 Windows 中搭建 Rails 环境。</p><p>刚接触 Rails 的读者可能觉得自己搭建环境有些难度，此时你可以使用其他在线 IDE。本文说明如何使用 <a href="https://ide.coding.net" title="Coding.net 的 WebIDE">Coding.net 的 WebIDE</a>。</p><p>如果没有 Coding.net 的账户，先<a href="https://coding.net/register" title="注册 Coding.net 账户">注册一个</a>。注册后，<a href="https://coding.net/login" title="登录 Coding.net">登录</a>。</p><p>在<a href="https://coding.net/user" title="个人页面">个人页面</a>点击“+ 创建新项目”，在打开的页面中填写项目名称等信息。为了明确项目的作用，可以在项目名称字段中填写“rails-tutorial”。创建私有项目还是公开项目由你自己决定。其他字段保留默认值即可。最后点击“创建项目”按钮。</p><p>现在，打开 <a href="https://ide.coding.net" title="Coding.net 的 WebIDE">Coding.net 的 WebIDE</a>，进入“<a href="https://ide.coding.net/dashboard" title="工作空间">工作空间</a>”页面，然后点击“+ 新建工作空间”。此时，在“Coding 仓库”标签页下面会看到你在 Coding.net 网站中的各个项目，如果没看到刚创建的“rails-tutorial”项目，点击右上角的“同步仓库”按钮。</p><p>点击你刚创建的“rails-tutorial”项目，配置所需的 CPU、内存和磁盘（我都选择最小值），然后点击下面的“创建”按钮。稍等片刻，你会被重定向到“工作空间”页面。在这里会看到你刚创建的工作空间，点击将其打开。</p><p>现在打开的就是真正的 IDE 了。</p><figure><img src="/assets/figures/setup-1.jpg" alt="WebIDE 界面"/><figcaption>WebIDE 界面</figcaption></figure><p>界面的各部分介绍如下：</p><ol><li>文件树</li><li>主区域，显示浮动面板、编辑器等。</li><li>设置面板</li><li>运行环境面板</li><li>访问链接面板</li><li>终端</li></ol><p>大致了解 WebIDE 的界面之后，打开“运行环境”面板（④）。在“运行环境列表”中把鼠标移到“ide-tty-rbenv”上，点击右侧的“使用”按钮，在弹出的对话框中按“确定”。此时，我们的工作空间就使用这个 Ruby 环境了。</p><figure><img src="/assets/figures/setup-2.jpg" alt="运行环境面板"/><figcaption>运行环境面板</figcaption></figure><p>这个环境预装了 Ruby 和 Rails。打开终端（⑥），输入下述命令，查看 Rails 的版本：</p><div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>rails -v
</code></pre></div><p>如果看到的版本号与《Ruby on Rails 教程》中的不一致，可以执行下述命令安装所需的版本（以安装 Rails 5.0.0 为例）：</p><div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>gem install rails -v 5.0.0
</code></pre></div><p><code class="highlighter-rouge">-v</code> 旗标的作用是指定安装哪个 Rails 版本，请把上面的 5.0.0 换成与书中一样的版本号。你使用的版本必须与书中一样，这样在学习的过程中，你得到的结果才与书中相同。</p><p>接下来，我们来新建<a href="/book/chapter1.html" title="第 1 章">第 1 章</a>创建的 hello_app。在终端输入下述命令：</p><div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span><span class="nb">cd</span> ~/workspace <span class="c"># 确保在 workspace 目录中</span>
<span class="gp">$ </span>rails _5.0.0_ new hello_app
</code></pre></div><p>稍等片刻，hello_app 就创建好了。然后跟着教程做就可以了。</p><p>这里要说明一下预览应用的方式。打开“访问链接”面板（⑤），端口号可以保持默认值（8080）不变，点击“生成”按钮。此时会生成一个有效期为一个小时的链接。</p><figure><img src="/assets/figures/setup-3.jpg" alt="访问链接面板"/><figcaption>访问链接面板</figcaption></figure><p>然后，回到终端。输入下述命令，启动 Rails 本地服务器：</p><div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span><span class="nb">cd </span>hello_app
<span class="gp">$ </span>rails server -b 0.0.0.0 -p 8080
</code></pre></div><p>其中 <code class="highlighter-rouge">-b</code> 是监听的 IP 地址，设为 <code class="highlighter-rouge">0.0.0.0</code> 才能通过外网访问；<code class="highlighter-rouge">-p</code> 是端口号，要设为前面填写的端口号。</p><p>现在，访问前面生成的 URL 就能看到 Rails 的欢迎页面了。</p><p>如果想把 WebIDE 中的代码推送到前面创建的项目中，可以在终端执行下述命令（推送前别忘了提交）：</p><div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>git push origin master
</code></pre></div></section></article></div></div></div></div><footer class="footer"><div class="container"><p>&copy;2013-2018 <a href="http://about.ac" title="安道的个人网站" target="_blank">安道</a></p><p>保留部分权利</p><p><a href="https://twitter.com/andor_chen" title="在 Twitter 中关注 @andor_chen" target="_blank"><i class="icon-twitter"></i></a> <a href="http://weibo.com/andor27" title="在微博中关注 @andor_chen" target="_blank"><i class="icon-weibo"></i></a></p></div></footer></body></html>